---
layout:   post
title:    视频流量特征
subtitle: 任何事物都有指纹
date:     2018-04-17
author:   ZY
catalog:  true
tags:
    - 流量
    - 安全
    - 网络
---


# 流量指纹

任何东西都有它的指纹，即存在方式，数据流量也不例外，甚至是加了密的视频流量。

今天尝试利用Wireshark抓.pcap包，并且恢复其中视频文件。实验了哔哩哔哩视频网站以及腾讯视频网站。过程中有取消代理操作，流量出现明显改变。

![socks](https://github.com/Anziye/Anziye.github.io/blob/master/img/20180417211328.png)
上图中socks包即是与代理之间交互获得视频的数据流量。

![bilibili](https://github.com/Anziye/Anziye.github.io/blob/master/img/20180417211336.png)
取消代理后，客户端与哔哩哔哩网站的服务器正式say Hello进行交互，传递视频数据。

利用wireshark获取完整的数据流之后，追踪具体TCP流。（目前各大网站还是倾向于利用TCP面向连接的方式进行视频传输，偶尔会利用TLSv1.2包对数据进行加密）
去掉客户端给服务器端发送的数据，save as成相应格式的文件，即可还原视频。

目前各大视频网站都有一套属于自己的编码方式，利用自己的编码器进行编码及解码，所以我们并不知道具体的文件格式，无法进行下一步的还原。
但是，在观看腾讯视频的过程当中，我们捕获到这样一组TCP包
![guanggao]

